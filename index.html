<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crew Link 2025</title>
  <link rel="icon" href="favicon.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .subheading {
      font-family: 'Georgia', serif;
      font-style: italic;
      font-size: 1.25rem;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <header class="bg-blue-900 text-white text-center py-6 shadow-md">
    <h1 class="text-3xl font-bold">CREW LINK 2025</h1>
    <div class="subheading mt-1">(Monsoon)</div>
  </header>

  <main class="max-w-3xl mx-auto py-10 px-4 text-center">
    <p class="mb-6 text-lg">Select your Crew Lobby to proceed:</p>
    <div class="flex flex-col gap-4 sm:flex-row justify-center">
      <a href="RN_Link_Menu.html" class="bg-blue-600 text-white px-6 py-3 rounded shadow hover:bg-blue-700">Ratnagiri</a>
      <a href="madgaon.html" class="bg-green-600 text-white px-6 py-3 rounded shadow hover:bg-green-700">Madgaon</a>
      <a href="suratkal.html" class="bg-purple-600 text-white px-6 py-3 rounded shadow hover:bg-purple-700">Suratkal</a>
    </div>
  </main>
 

  <footer class="text-center text-sm py-4 text-gray-500">
    Created by Sajeesh P
  </footer>
  <script>
  const row = localStorage.getItem("myCrewRow");
  const col = localStorage.getItem("mySelectedDay");
  const name = localStorage.getItem("myCrewName");

  if (row !== null && col !== null && name) {
    const today = new Date().getDay(); // 0 = Sunday
    const offset = (parseInt(col) + (today - parseInt(col))) % 7;

    // Simulated weekly duty rotation (same row but shift columns each day)
    const nextCol = (parseInt(col) + 1) % 7;

    const dutyTable = {
      "0": ["Train 101", "Train 102", "Rest", "Train 104", "", "Train 106", "Train 107"],
      "1": ["Train 201", "Rest", "Train 203", "Train 204", "Train 205", "", "Train 207"],
      "2": ["", "Train 302", "Train 303", "Rest", "Train 305", "Train 306", "Train 307"],
      // Add all 10 crew rows here
    };

    const todayDuty = dutyTable[row]?.[today] || "Rest/Leave";
    const nextDuty = dutyTable[row]?.[nextCol] || "Rest/Leave";

    const infoBox = document.createElement("div");
    infoBox.className = "bg-yellow-100 border border-yellow-400 text-yellow-900 p-4 rounded mb-4 shadow text-left";
    infoBox.innerHTML = 
      <strong>üë®‚Äç‚úàÔ∏è ${name}'s Duty</strong><br>
      üìÖ <strong>Today:</strong> ${todayDuty}<br>
      üìÖ <strong>Next:</strong> ${nextDuty}<br>
      <a href="ratnagiri_link1.html" class="text-blue-700 underline hover:text-blue-900 mt-2 inline-block">üîó View Duty Table</a>
    ;
    document.querySelector("main").prepend(infoBox);
  }
</script>
</body>
</html>
