<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ratnagiri Link 1</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Standard favicon -->
<link rel="icon" type="image/png" href="/favicon.png" />

<!-- Apple Touch Icon (iOS) -->
<link rel="apple-touch-icon" href="/favicon.png" />

<!-- Web App Manifest (for Android and PWA support) -->
<link rel="manifest" href="/manifest.json">
    <style>
  .highlighted {
    background-color: #fcd34d !important; /* yellow-300 */
  }
</style>
</head>
<body class="bg-gray-50 text-gray-800">
  <header class="bg-blue-900 text-white text-center py-5">
    <h1 class="text-2xl font-bold">Ratnagiri Crew Link - 1</h1>
    <h1 class="text-2xl font-semibold">(10 Men)</h1>
    <p class="text-sm">Monsoon - 2025</p>
  </header>  <main class="max-w-5xl mx-auto px-4 py-8">
    <div class="bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-2 rounded mb-4 text-center">
  <strong>Instruction:</strong> Click on your duty cell once to select your Duty. Your duty will be automatically highlighted each day. Click again to <strong>stop when on leave or Duty changes</strong>.
</div>
    <div class="overflow-x-auto">
      <table class="table-auto w-full border border-gray-300 text-center text-sm">
        <thead class="bg-blue-200">
          <tr>
            <th class="border px-3 py-2">Crew</th>
            <th class="border px-3 py-2">Sunday</th>
            <th class="border px-3 py-2">Monday</th>
            <th class="border px-3 py-2">Tuesday</th>
            <th class="border px-3 py-2">Wednesday</th>
            <th class="border px-3 py-2">Thursday</th>
            <th class="border px-3 py-2">Friday</th>
            <th class="border px-3 py-2">Saturday</th>
          </tr>
        </thead>
        <tbody>
          <!-- Row 1 -->
          <tr class="bg-white">
            <td class="border px-3 py-2 font-semibold">Crew 1</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
          <!-- Row 2 -->
          <tr class="bg-blue-50">
            <td class="border px-3 py-2 font-semibold">Crew 2</td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12801</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12802</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12111</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12112</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12611</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12612</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
          </tr>
           <tr class="bg-white">
            <td class="border px-3 py-2 font-semibold">Crew 3</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-blue-50">
            <td class="border px-3 py-2 font-semibold">Crew 4</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-white">
            <td class="border px-3 py-2 font-semibold">Crew 5</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-blue-50">
            <td class="border px-3 py-2 font-semibold">Crew 6</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-white">
            <td class="border px-3 py-2 font-semibold">Crew 7</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-blue-50">
            <td class="border px-3 py-2 font-semibold">Crew 8</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
        </tbody>
      </table>
     <script>
  const table = document.querySelector("table");
  const rows = table.querySelectorAll("tbody tr");
  const today = new Date().getDay(); // 0=Sunday

  const dayCols = [1, 2, 3, 4, 5, 6, 7]; // Columns for Sunday to Saturday

  const savedRow = localStorage.getItem("myCrewRow");
  const savedCrew = localStorage.getItem("myCrewName");

  // Utility to get next duty text
  function getNextDutyText(rowIndex) {
    for (let offset = 1; offset < 7; offset++) {
      let nextDay = (today + offset) % 7;
      const cell = table.rows[parseInt(rowIndex) + 1].cells[nextDay + 1];
      if (cell && !cell.classList.contains("bg-gray-100") && cell.textContent.trim() !== "—") {
        return ${cell.innerText.trim()} on ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][nextDay]};
      }
    }
    return "No upcoming duty found.";
  }

  // Auto highlight today's duty if previously selected
  if (savedRow !== null) {
    const currentCell = table.rows[parseInt(savedRow) + 1].cells[today + 1];
    if (currentCell && currentCell.textContent.trim() !== "—") {
      currentCell.classList.add("highlighted");
    }

    // Show next duty message
    const nextDuty = getNextDutyText(savedRow);
    const banner = document.createElement("div");
    banner.className = "bg-green-100 border border-green-400 text-green-800 px-4 py-2 rounded mb-4 text-center";
    banner.innerHTML = 👨‍✈️ <strong>${savedCrew}</strong> – Your next duty is <strong>${nextDuty}</strong>;
    document.querySelector("main").insertBefore(banner, document.querySelector("table"));
  }

  // Cell click event
  rows.forEach((row, rowIndex) => {
    const cells = row.querySelectorAll("td");

    cells.forEach((cell, colIndex) => {
      if (colIndex === 0 || cell.textContent.trim() === "—") return;

      cell.addEventListener("click", () => {
        const alreadySelected = cell.classList.contains("highlighted");

        // Clear all highlights
        document.querySelectorAll(".highlighted").forEach(c => c.classList.remove("highlighted"));

        if (alreadySelected) {
          localStorage.removeItem("myCrewRow");
          localStorage.removeItem("myCrewName");
          localStorage.removeItem("mySelectedDay");
        } else {
          cell.classList.add("highlighted");
          localStorage.setItem("myCrewRow", rowIndex);
          localStorage.setItem("myCrewName", row.cells[0].textContent);
          localStorage.setItem("mySelectedDay", colIndex);
          location.reload(); // Refresh to show next duty banner
        }
      });
    });
  });
</script>
    </div>
    <div class="text-center mt-6">
  <a href="RN_Link_Menu.html" class="inline-block bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transition">
    Back
  </a>
</div>
  </main>  

  <footer class="text-center text-sm text-gray-500 py-4">
    ©2025 Combined Crew Lobby Madgaon
  </footer>
</body>
</html>
