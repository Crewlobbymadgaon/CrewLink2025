<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ratnagiri Link 1</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Standard favicon -->
<link rel="icon" type="image/png" href="/favicon.png" />

<!-- Apple Touch Icon (iOS) -->
<link rel="apple-touch-icon" href="/favicon.png" />

<!-- Web App Manifest (for Android and PWA support) -->
<link rel="manifest" href="/manifest.json">
    <style>
  .highlighted {
    background-color: #fcd34d !important; /* yellow-300 */
  }
</style>
</head>
<body class="bg-gray-50 text-gray-800">
  <header class="bg-blue-900 text-white text-center py-5">
    <h1 class="text-2xl font-bold">Ratnagiri Crew Link - 1</h1>
    <h1 class="text-2xl font-semibold">(10 Men)</h1>
    <p class="text-sm">Monsoon - 2025</p>
  </header>  <main class="max-w-5xl mx-auto px-4 py-8">
   <div id="next-duty" class="text-xl font-semibold text-blue-800 my-4"></div>
    <div class="overflow-x-auto">
      <table class="table-auto w-full border border-gray-300 text-center text-sm">
        <thead class="bg-blue-200">
          <tr>
            <th class="border px-3 py-2">Crew</th>
            <th class="border px-3 py-2">Sunday</th>
            <th class="border px-3 py-2">Monday</th>
            <th class="border px-3 py-2">Tuesday</th>
            <th class="border px-3 py-2">Wednesday</th>
            <th class="border px-3 py-2">Thursday</th>
            <th class="border px-3 py-2">Friday</th>
            <th class="border px-3 py-2">Saturday</th>
          </tr>
        </thead>
        <tbody>
          <!-- Row 1 -->
          <tr class="bg-white">
            <td class="border px-3 py-2 font-semibold">Crew 1</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
          <!-- Row 2 -->
          <tr class="bg-blue-50">
            <td class="border px-3 py-2 font-semibold">Crew 2</td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12801</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12802</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12111</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12112</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12611</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12612</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
          </tr>
           <tr class="bg-white">
            <td class="border px-3 py-2 font-semibold">Crew 3</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-blue-50">
            <td class="border px-3 py-2 font-semibold">Crew 4</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-white">
            <td class="border px-3 py-2 font-semibold">Crew 5</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-blue-50">
            <td class="border px-3 py-2 font-semibold">Crew 6</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-white">
            <td class="border px-3 py-2 font-semibold">Crew 7</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
           <tr class="bg-blue-50">
            <td class="border px-3 py-2 font-semibold">Crew 8</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12051</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12052</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12201</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12202</div>
            </td>
            <td class="border px-3 py-2 bg-gray-100 text-gray-400 italic">—</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12411</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12412</div>
            </td>
            <td class="border px-3 py-2 bg-red-100 text-red-700 font-semibold">Rest</td>
            <td class="border px-3 py-2">
              <div class="text-blue-700 font-bold">12621</div>
              <div class="text-green-700 font-bold border-t border-gray-300 mt-1">12622</div>
            </td>
          </tr>
        </tbody>
      </table>
 <script>
  const crewName = localStorage.getItem("crewName") || prompt("Enter your name");
  localStorage.setItem("crewName", crewName);

  const table = document.querySelector("table");
  const nextDutyDiv = document.getElementById("next-duty");
  let nextDutyShown = false;

  const today = new Date().toISOString().slice(0, 10); // e.g. 2025-06-05
  const storageKey = selectedDuty-${crewName}-${today};

  // Function to show "Next Duty"
  function showNextDuty(cells, colIndex) {
    if (nextDutyShown) return;
    let next = "No upcoming duty";
    for (let i = colIndex + 1; i < cells.length; i++) {
      const text = cells[i].textContent.trim().toLowerCase();
      if (text && text !== "rest") {
        next = cells[i].textContent.trim();
        break;
      }
    }
    nextDutyDiv.textContent = Next Duty: ${next};
    nextDutyShown = true;
  }

  // Auto highlight previously selected cell
  function autoHighlight() {
    const saved = JSON.parse(localStorage.getItem(storageKey));
    if (saved) {
      const rowIndex = saved.row;
      const colIndex = saved.col;
      const row = table.rows[rowIndex];
      if (row) {
        const cell = row.cells[colIndex];
        if (cell) {
          cell.classList.add("bg-yellow-300");
          showNextDuty(row.cells, colIndex);
        }
      }
    }
  }

  table.addEventListener("click", (e) => {
    const cell = e.target.closest("td");
    if (!cell) return;

    const row = cell.parentElement;
    const rowIndex = row.rowIndex;
    const colIndex = cell.cellIndex;
    const cells = row.querySelectorAll("td");

    if (colIndex === 0 || cell.textContent.trim() === "") return;

    // Remove all highlights from the row
    cells.forEach(td => td.classList.remove("bg-yellow-300"));

    // Add highlight to selected cell
    cell.classList.add("bg-yellow-300");

    // Save selected cell to localStorage
    localStorage.setItem(storageKey, JSON.stringify({ row: rowIndex, col: colIndex }));

    showNextDuty(cells, colIndex);
  });

  autoHighlight(); // Run on load
</script>
    </div>
    <div class="text-center mt-6">
  <a href="RN_Link_Menu.html" class="inline-block bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transition">
    Back
  </a>
</div>
    <div class="bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-2 rounded mb-4 text-center">
  <strong>Instruction:</strong> Click on your duty cell once to select your Duty. Your duty will be automatically highlighted each day. Click again to <strong>stop when on leave or Duty changes</strong>.
</div>
  </main>  

  <footer class="text-center text-sm text-gray-500 py-4">
    ©2025 Combined Crew Lobby Madgaon
  </footer>
</body>
</html>
